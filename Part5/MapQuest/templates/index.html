<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>MapQuest –ù–∞–≤–∏–≥–∞—Ç–æ—Ä</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        .result-box { border: 1px solid #ccc; padding: 15px; margin-top: 20px; background-color: #f9f9f9; }
        .error { color: red; font-weight: bold; }
        label { display: block; margin-top: 10px; }
        input[type="text"] { width: 300px; padding: 5px; }
    </style>
</head>
<body>
    <h1>üöó MapQuest –ù–∞–≤–∏–≥–∞—Ç–æ—Ä</h1>

    <form method="POST">
        <label for="origin">–ù–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞:</label>
        <input type="text" id="origin" name="origin" required>
        
        <label for="destination">–ü—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è:</label>
        <input type="text" id="destination" name="destination" required>
        
        <label for="units">–°–∏—Å—Ç–µ–º–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π:</label>
        <select id="units" name="units">
            <option value="m">–ú–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è (–∫–º, –ª–∏—Ç—Ä—ã)</option>
            <option value="k">–ò–º–ø–µ—Ä—Å–∫–∞—è (–º–∏–ª–∏, –≥–∞–ª–ª–æ–Ω—ã)</option>
        </select>
        <br>
        <button type="submit">–ù–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç</button>
    </form>

    {% if result %}
        <div class="result-box">
            {% if result.error %}
                <p class="error">–û—à–∏–±–∫–∞: {{ result.error }}</p>
            {% elif result.status == 'success' %}
                <h2>–ú–∞—Ä—à—Ä—É—Ç –∏–∑ {{ result.orig }} –≤ {{ result.dest }}</h2>
                
                <p><strong>–í—Ä–µ–º—è –≤ –ø—É—Ç–∏:</strong> {{ result.duration }}</p>
                <p><strong>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ:</strong> {{ "%.2f" | format(result.distance) }} {{ result.unit }}</p>
                <p><strong>–†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞:</strong> {{ "%.2f" | format(result.fuel_used) }} {% if result.unit == '–∫–º' %} –ª–∏—Ç—Ä–æ–≤ {% else %} –≥–∞–ª–ª–æ–Ω–æ–≤ {% endif %}</p>
                
                <h3>–ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</h3>
                <ul>
                    {% for maneuver in result.maneuvers %}
                        <li>{{ maneuver.narrative }} ({{ "%.2f" | format(maneuver.distance) }} {{ result.unit }})</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    {% endif %}

</body>
</html>